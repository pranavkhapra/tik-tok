(this["webpackJsonptik-tok-clone"]=this["webpackJsonptik-tok-clone"]||[]).push([[0],{1515:function(e,s,t){"use strict";t.r(s);var c=t(1),n=t.n(c),a=t(39),i=t.n(a),r=(t(19),t(14)),l=t(2),o=t(8),j=t.n(o),d=t(13),u=t(11),b=t(10),m=t.n(b),O=t(0),h=function(e){var s=e.user;return Object(O.jsxs)("div",{className:"section microcard",children:[Object(O.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%",alt:s.name}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"bold",children:s.username}),Object(O.jsx)("p",{children:s.name})]})]})},x=function(e){var s=e.users;return Object(O.jsxs)("div",{className:"followers-column",children:[Object(O.jsxs)("div",{className:"followers-section",children:[Object(O.jsx)("div",{className:"home"}),Object(O.jsx)("h2",{className:"bold red",children:"For You"})]}),Object(O.jsxs)("div",{className:"followers-section",children:[Object(O.jsx)("div",{className:"following"}),Object(O.jsx)("h2",{children:"Following"})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("p",{children:"Your top accounts"}),s&&s.map((function(e,s){return Object(O.jsx)(h,{user:e},s)})),Object(O.jsx)("hr",{})]})},f=function(e){var s=e.user,t=e.toggleFollow;return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"break"}),Object(O.jsxs)("div",{className:"section",children:[Object(O.jsxs)("div",{className:"user-info",children:[Object(O.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%",alt:s.name}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"section",children:[Object(O.jsx)("h3",{className:"bold",children:s.username}),Object(O.jsx)("p",{className:"username",children:s.name}),Object(O.jsx)("p",{children:s.timestamp})]}),Object(O.jsx)("p",{children:s.caption})]})]}),s.button_visible&&Object(O.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]}),Object(O.jsx)("video",{className:"video",controls:!0,children:Object(O.jsx)("source",{src:s.video,type:"video/mp4"})}),Object(O.jsxs)("div",{className:"section socials",children:[Object(O.jsx)("i",{class:"far fa-heart"}),Object(O.jsx)("div",{className:"social-tag",children:s.likes}),Object(O.jsx)("i",{class:"far fa-comment-dots"}),Object(O.jsx)("div",{className:"social-tag",children:s.comments}),Object(O.jsx)("i",{class:"far fa-share-square"})]})]})},v=function(e){var s=e.user,t=e.toggleFollow;return Object(O.jsxs)("div",{className:"section minicard",children:[Object(O.jsxs)("div",{className:"section",children:[Object(O.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%",alt:s.name}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"bold",children:s.username}),Object(O.jsx)("p",{children:s.name})]})]}),s.button_visible&&Object(O.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]})};var p=function(){var e,s,t,n=Object(c.useState)(null),a=Object(u.a)(n,2),i=a[0],r=a[1],l=Object(c.useState)(null),o=Object(u.a)(l,2),b=o[0],h=o[1],p=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/.netlify/functions/addData");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(j.a.mark((function e(){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/.netlify/functions/posts");case 2:s=e.sent,r(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(b){var g={is_followed:!b.is_followed};m.a.put("/.netlify/functions/edit",{userId:b.id,data:g}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.error("error:".concat(e))})).then((function(){return N()})),h(null)}return Object(c.useEffect)((function(){p(),N()}),[]),i&&(e=i.sort((function(e,s){return e.id<s.id?1:-1})),s=i.filter((function(e){return!0===e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5),t=i.filter((function(e){return!1===e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5)),Object(O.jsx)(O.Fragment,{children:e&&Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(x,{users:s}),Object(O.jsx)("div",{className:"feed",children:e.map((function(e,s){return Object(O.jsx)(f,{user:e,toggleFollow:function(e){return h(e)}},s)}))}),Object(O.jsx)("div",{className:"suggested-box",children:Object(O.jsx)("div",{className:"section",children:Object(O.jsxs)("div",{className:"suggested",children:[Object(O.jsx)("h2",{className:"bold",children:"Suggested Accounts"}),Object(O.jsx)("div",{className:"break"}),t.map((function(e,s){return Object(O.jsx)(v,{user:e,toggleFollow:function(e){return h(e)}},s)}))]})})})]})})},N=t(40),g=t.n(N),w=function(){var e="pranavkhapra",s=Object(c.useState)(null),t=Object(u.a)(s,2),n=t[0],a=t[1],i=Object(c.useState)(null),r=Object(u.a)(i,2),l=r[0],o=r[1],b=(new Date).toISOString(),h={id:g.a.random.uuid(),name:"Pranav Khapra",username:e,avatar:"https://i.imgur.com/rwatmMV.jpg",is_followed:!1,video:n,caption:l,likes:0,comments:0,timestamp:b,button_visible:!1},x=function(){var e=Object(d.a)(j.a.mark((function e(s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),m.a.post("/.netlify/functions/add",h).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"upload-page",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h1",{children:"Upload video"}),Object(O.jsxs)("p",{children:["This video will be published to @",e]}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("form",{onSubmit:x,children:[Object(O.jsxs)("div",{className:"section",children:[Object(O.jsx)("div",{className:"image-upload"}),Object(O.jsxs)("div",{className:"form-section",children:[Object(O.jsxs)("div",{className:"section input-section",children:[Object(O.jsx)("label",{className:"bold",children:"Caption"}),Object(O.jsx)("input",{className:"input",name:"caption",onChange:function(e){return o(e.target.value)}})]}),Object(O.jsx)("div",{className:"break"}),Object(O.jsxs)("div",{className:"section input-section",children:[Object(O.jsx)("label",{className:"bold",children:"Video Url"}),Object(O.jsx)("input",{className:"input",name:"video",onChange:function(e){return a(e.target.value)}})]})]})]}),Object(O.jsx)("button",{children:"Post"})]})})]})},k=function(){return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("div",{className:"logo"})}),Object(O.jsx)("div",{className:"upload-container",children:Object(O.jsxs)("div",{className:"section",children:[Object(O.jsx)(r.b,{to:"/upload",children:Object(O.jsx)("div",{className:"upload"})}),Object(O.jsx)("img",{className:"personal",src:"https://i.imgur.com/rwatmMV.jpg",alt:""})]})})]})};var _=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(r.a,{children:[Object(O.jsx)(k,{}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/",component:p,exact:!0}),Object(O.jsx)(l.a,{path:"/upload",component:w})]})]})})};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(_,{})}),document.getElementById("root"))},19:function(e,s,t){}},[[1515,1,2]]]);
//# sourceMappingURL=main.27ac10de.chunk.js.map