{"version":3,"sources":["components/MicroCard.js","components/FollowersColumn.js","components/Card.js","components/MiniCard.js","pages/Home.js","pages/Upload.js","components/Header.js","App.js","index.js"],"names":["MicroCard","user","className","src","avatar","width","alt","name","username","FollowersColumn","topFiveFollowing","users","map","index","Card","toggleFollow","timestamp","caption","button_visible","is_followed","onClick","controls","video","type","class","likes","comments","MiniCard","Home","descendingUsers","topFiveNotFollowing","useState","setUsers","userToToggle","setUserToToggle","addData","a","axios","post","fetchData","get","results","data","put","userId","id","then","res","json","console","log","catch","err","error","useEffect","sort","b","filter","slice","descendingUser","notFollowingUser","Upload","setVideo","setCaption","Date","toISOString","faker","random","uuid","handleSubmit","e","preventDefault","response","onSubmit","onChange","target","value","Header","to","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27ac10de.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst MicroCard = ({ user }) => (\n  <div className=\"section microcard\">\n    <img\n      className=\"user-profile\"\n      src={user.avatar}\n      width=\"100%\"\n      alt={user.name}\n    />\n    <div>\n      <h3 className=\"bold\">{user.username}</h3>\n      <p>{user.name}</p>\n    </div>\n  </div>\n);\n\nexport default MicroCard;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport MicroCard from './MicroCard';\n\nconst FollowersColumn = (topFiveFollowing) => {\n  const { users } = topFiveFollowing;\n  return (\n    <div className=\"followers-column\">\n      <div className=\"followers-section\">\n        <div className=\"home\" />\n        <h2 className=\"bold red\">For You</h2>\n      </div>\n      <div className=\"followers-section\">\n        <div className=\"following\" />\n        <h2>Following</h2>\n      </div>\n      <hr />\n      <p>Your top accounts</p>\n      {users &&\n        users.map((user, index) => <MicroCard key={index} user={user} />)}\n      <hr />\n    </div>\n  );\n};\n\nexport default FollowersColumn;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/no-unknown-property */\n/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst Card = ({ user, toggleFollow }) => (\n  <div className=\"card\">\n    <div className=\"break\" />\n    <div className=\"section\">\n      <div className=\"user-info\">\n        <img\n          className=\"user-profile\"\n          src={user.avatar}\n          width=\"100%\"\n          alt={user.name}\n        />\n        <div>\n          <div className=\"section\">\n            <h3 className=\"bold\">{user.username}</h3>\n            <p className=\"username\">{user.name}</p>\n            <p>{user.timestamp}</p>\n          </div>\n          <p>{user.caption}</p>\n        </div>\n      </div>\n      {user.button_visible && (\n        <div\n          className={user.is_followed ? 'followed-button' : 'follow-button'}\n          onClick={() => toggleFollow(user)}\n        >\n          {user.is_followed ? 'Following' : 'Follow'}\n        </div>\n      )}\n    </div>\n    <video className=\"video\" controls>\n      <source src={user.video} type=\"video/mp4\" />\n    </video>\n    <div className=\"section socials\">\n      <i class=\"far fa-heart\" />\n      <div className=\"social-tag\">{user.likes}</div>\n      <i class=\"far fa-comment-dots\" />\n      <div className=\"social-tag\">{user.comments}</div>\n      <i class=\"far fa-share-square\" />\n    </div>\n  </div>\n);\n\nexport default Card;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst MiniCard = ({ user, toggleFollow }) => (\n  <div className=\"section minicard\">\n    <div className=\"section\">\n      <img\n        className=\"user-profile\"\n        src={user.avatar}\n        width=\"100%\"\n        alt={user.name}\n      />\n      <div>\n        <h3 className=\"bold\">{user.username}</h3>\n        <p>{user.name}</p>\n      </div>\n    </div>\n    {user.button_visible && (\n      <div\n        className={user.is_followed ? 'followed-button' : 'follow-button'}\n        onClick={() => toggleFollow(user)}\n      >\n        {user.is_followed ? 'Following' : 'Follow'}\n      </div>\n    )}\n  </div>\n);\n\nexport default MiniCard;\n","/* eslint-disable no-unneeded-ternary */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-shadow */\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport FollowersColumn from '../components/FollowersColumn';\nimport Card from '../components/Card';\nimport '../App.css';\nimport MiniCard from '../components/MiniCard.js';\n\nfunction Home() {\n  const [users, setUsers] = useState(null);\n  const [userToToggle, setUserToToggle] = useState(null);\n  let descendingUsers;\n  let topFiveFollowing;\n  let topFiveNotFollowing;\n  // console.log(userToToggle);\n  // first we need to populate our data\n  // bascially so that we dont need to visit the page to add data\n  const addData = async () => {\n    await axios.post('/.netlify/functions/addData');\n  };\n  const fetchData = async () => {\n    const results = await axios.get('/.netlify/functions/posts');\n    // console.log(results.data);\n    setUsers(results.data);\n  };\n  // editing our data of the userToToggle basically new value of the Toggle\n  if (userToToggle) {\n    const newValue = userToToggle.is_followed ? false : true;\n    const data = { is_followed: newValue };\n    // this axios to put is used same as given in astra\n    axios\n      .put('/.netlify/functions/edit', { userId: userToToggle.id, data })\n      .then((res) => res.json())\n      .then((json) => console.log(json))\n      .catch((err) => console.error(`error:${err}`))\n      // after we updated our data we want to reflect so refetching the data so that we can re-render\n      .then(() => fetchData());\n    setUserToToggle(null);\n  }\n  useEffect(() => {\n    addData();\n    fetchData();\n  }, []);\n\n  // bascially i want to sort the user in descending order of their id which can be sort by .sort()\n  if (users) {\n    // the descending users is for the descended user for thee Cardjs\n    descendingUsers = users.sort((a, b) => (a.id < b.id ? 1 : -1));\n\n    // for the following of which we are following\n    // we got people we are following\n    const following = users.filter((user) => user.is_followed === true);\n    // basically descending order on the basis of likes here\n    const descendingFollowing = following.sort((a, b) =>\n      a.likes < b.likes ? 1 : -1\n    );\n    // slicing the top 5 only\n    topFiveFollowing = descendingFollowing.slice(0, 5);\n    // for the suggested accounts\n    const notFollowing = users.filter((user) => user.is_followed === false);\n    const descendingNotFollowing = notFollowing.sort((a, b) =>\n      a.likes < b.likes ? 1 : -1\n    );\n    topFiveNotFollowing = descendingNotFollowing.slice(0, 5);\n  }\n\n  return (\n    // if descending user exist only we want to show this user\n    <>\n      {descendingUsers && (\n        <div className=\"container\">\n          <FollowersColumn users={topFiveFollowing} />\n          <div className=\"feed\">\n            {descendingUsers.map((descendingUser, index) => (\n              <Card\n                key={index}\n                user={descendingUser}\n                toggleFollow={(userToToggle) => setUserToToggle(userToToggle)}\n              />\n            ))}\n          </div>\n          <div className=\"suggested-box\">\n            <div className=\"section\">\n              <div className=\"suggested\">\n                <h2 className=\"bold\">Suggested Accounts</h2>\n                <div className=\"break\" />\n                {/* basically top 5 not following in the suggested accounts */}\n                {topFiveNotFollowing.map((notFollowingUser, index) => (\n                  <MiniCard\n                    key={index}\n                    user={notFollowingUser}\n                    toggleFollow={(userToToggle) =>\n                      setUserToToggle(userToToggle)\n                    }\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n","/* eslint-disable react/button-has-type */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport faker from 'faker';\n\nconst Upload = () => {\n  const username = 'pranavkhapra';\n  const name = 'Pranav Khapra';\n  const avatar = 'https://i.imgur.com/rwatmMV.jpg';\n  const [video, setVideo] = useState(null);\n  const [caption, setCaption] = useState(null);\n  const today = new Date();\n  const timestamp = today.toISOString();\n\n  const id = faker.random.uuid();\n  const data = {\n    id,\n    name,\n    username,\n    avatar,\n    // we cant follow our self so..\n    is_followed: false,\n    video,\n    caption,\n    likes: 0,\n    comments: 0,\n    timestamp,\n    button_visible: false,\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // its the things like when you upload data it should come with this things\n    axios\n      .post('/.netlify/functions/add', data)\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  return (\n    <div className=\"upload-page\">\n      <br />\n      <h1>Upload video</h1>\n      <p>This video will be published to @{username}</p>\n      <div className=\"container\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"section\">\n            <div className=\"image-upload\" />\n            <div className=\"form-section\">\n              <div className=\"section input-section\">\n                <label className=\"bold\">Caption</label>\n                <input\n                  className=\"input\"\n                  name=\"caption\"\n                  onChange={(e) => setCaption(e.target.value)}\n                />\n              </div>\n              <div className=\"break\" />\n              <div className=\"section input-section\">\n                <label className=\"bold\">Video Url</label>\n                <input\n                  className=\"input\"\n                  name=\"video\"\n                  onChange={(e) => setVideo(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n          <button>Post</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Upload;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => (\n  <div className=\"header\">\n    <Link to=\"/\">\n      <div className=\"logo\" />\n    </Link>\n    <div className=\"upload-container\">\n      <div className=\"section\">\n        <Link to=\"/upload\">\n          <div className=\"upload\" />\n        </Link>\n        <img\n          className=\"personal\"\n          src=\"https://i.imgur.com/rwatmMV.jpg\"\n          alt=\"\"\n        />\n      </div>\n    </div>\n  </div>\n);\n\nexport default Header;\n","import './App.css';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport Home from './pages/Home';\nimport Upload from './pages/Upload';\nimport Header from './components/Header';\n\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <Header />\n        <Switch>\n          <Route path=\"/\" component={Home} exact />\n          <Route path=\"/upload\" component={Upload} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}